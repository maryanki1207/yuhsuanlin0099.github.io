<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>用陀螺儀角度判斷播放音樂</title>
  </head>
  <body>
    <div id="orientationData"></div>

    <script>
      let audio = new Audio("./(G)I-DLE)-SuperLady.mp3");
      let isPlaying = false;

      if (window.DeviceOrientationEvent) {
        window.addEventListener("deviceorientation", handleOrientation, true);
      } else {
        document.getElementById("orientationData").innerText =
          "您的瀏覽器不支持陀螺儀功能";
      }

      function handleOrientation(event) {
        var beta = event.beta; // 前後傾斜角度（-180-180）

        document.getElementById("orientationData").innerText = `
        Beta: ${beta.toFixed(2)}\xB0
      `;

        // 當 beta 角度超過一定範圍時，播放音樂
        if (beta > 45 && beta < 135 && !isPlaying) {
          audio.play();
          isPlaying = true;
        } else if ((beta <= 45 || beta >= 135) && isPlaying) {
          audio.pause();
          isPlaying = false;
        }
      }
    </script>
  </body>
</html>
